-- Admin Table
CREATE TABLE admin (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE,
    role VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Users Table
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    firstname VARCHAR(50) NOT NULL,
    lastname VARCHAR(50) NOT NULL,
    email VARCHAR(255) NOT NULL UNIQUE,
    gender VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL,
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE categories (
    id SERIAL PRIMARY KEY,
    category_name VARCHAR(50) NOT NULL,
      description TEXT,
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    category_id INT REFERENCES categories(id) ON DELETE CASCADE,
    product_name VARCHAR(50) NOT NULL,
    price DECIMAL(13,2) NOT NULL,
    description TEXT,
    inventory INT DEFAULT 0, 
    date_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(id) ON DELETE SET NULL,
    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(20) DEFAULT 'Pending',
    total_amount DECIMAL(13,2) NOT NULL,
    shipping_address TEXT,
    billing_address TEXT,
    payment_id INT   
);

CREATE TABLE payments (
    id SERIAL PRIMARY KEY,
    order_id INT REFERENCES orders(id) ON DELETE CASCADE,  
    amount DECIMAL(13,2) NOT NULL,
    payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    payment_method VARCHAR(50) NOT NULL,  
    status VARCHAR(20) DEFAULT 'Pending', 
    transaction_id VARCHAR(255),  
    details JSONB  
);








----------------------------------------------------------------
API Documentation

base_url = 



Register Admin
# Endpoint: {base_url}/admin/register
# Method: POST

# Sample Request

{
    "username": "Admin",
    "email": "admin@example.com",
    "password": "zxcvbnm"
}

# Sample Response

{
    "success": true,
    "message": "Admin created successfully",
    "admin": {
        "id": 1,
        "username": "Admin",
        "email": "admin@example.com",
        "role": "admin",
        "password": "$2a$10$oCsSmq75H9HTFIZz5jgiM.oaeCkB/8Pi1tHKn8Qx7Dk6K/R9jwFsq",
        "date_created": "2024-08-08T11:40:49.730Z"
    }
}

#####################################################################


Login Admin
# Endpoint: {base_url}/admin/login
# Method: POST

# Sample Request

{
     "email": "admin@example.com",
    "password": "zxcvbnm"
}

# Sample Response

{
    "message": "Login successful",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbklkIjoxLCJhZG1pblJvbGUiOiJhZG1pbiIsImlhdCI6MTcyMzExNzQ4MiwiZXhwIjoxNzIzMTIxMDgyfQ.GqL44BIMUPoWeRzjGAMnMh2wtRIcTkm6kFOZLvkSUPA",
    "role": "admin"
}

######################################################################